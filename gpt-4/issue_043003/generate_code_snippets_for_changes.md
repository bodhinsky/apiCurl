{
  "file": "src/apicurl/fetchUserCollection.py",
  "code_snippet": "import pandas as pd\nimport matplotlib.pyplot as plt\n\n\n\ndef get_user_collection(page=1):\n    ...\n\n    except requests.exceptions.RequestException as e:\n        ...\n    # New visualization function\n    visualize_collection_data(collection_data)\n\n\ndef visualize_collection_data(data):\n    df = pd.DataFrame(data['releases'])\n    # Assuming 'year' is a sensible attribute to graph. This can change based on actual data structure.\n    year_count = df['year'].value_counts().sort_index()\n    plt.figure(figsize=(10,6))\n    plt.bar(year_count.index, year_count.values)\n    plt.xlabel('Year')\n    plt.ylabel('Number of Items')\n    plt.title('Collection Items by Year')\n    plt.show()\n\n\ndef fetch_all_collection_pages():\n    all_releases = []\n    next_page = True\n    page_number = 1\n    \n    while next_page:\n        releases, next_page_url = get_user_collection(page=page_number)\n        all_releases.extend(releases)\n        next_page = next_page_url\n        page_number += 1\n    \n    visualize_collection_data({'releases': all_releases})\n    return all_releases\n"
}